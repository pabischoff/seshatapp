<html>
<head>
<style>

</style>
</head>


<body>

<p id="show_variable">Click me to change my HTML content (innerHTML).</p>

<input type="button" onclick="previousPolity()" value="<<">
<input type="button" onclick="nextPolity()" value=">>">


 <script>
var i = 2;
getVar(i);

function getVar(i) {
		

   	var xmlhttp = new XMLHttpRequest();
	xmlhttp.open("GET", "seshatapp.xml", true);

    	xmlhttp.onreadystatechange = function() {

        //if (this.readyState == 4 && this.status == 200) {

          	showVar(this, i);
        //}
    };
    	//xmlhttp.open("GET", "https://github.com/pabischoff/seshatapp/blob/master/seshatapp.xml", true);

    	xmlhttp.send();
}

function showVar(xml, i) {
		document.getElementById("show_variable").innerHTML = "Hi there";
    var xmlDoc = xml.responseXML; 
    x = xmlDoc.getElementsByTagName("POLITY");
    document.getElementById("show_variable").innerHTML =
    "Begin: " +
    x[i].getElementsByTagName("BEGIN")[0].childNodes[0].nodeValue +
    "<br>End: " +
    x[i].getElementsByTagName("END")[0].childNodes[0].nodeValue +
    "<br>Government: " + 
    x[i].getElementsByTagName("GOVERNMENT")[0].childNodes[0].nodeValue +
    "<br>Religion: " + 
    x[i].getElementsByTagName("RELIGION")[0].childNodes[0].nodeValue;
}

function nextPolity() {
  // display the next polity, unless you are on the last polity
  if (i < x.length-1) {
    i++;
    getVar(i);
  }
}

function previousPolity() {
  // display the previous polity, unless you are on the first polity 
  if (i > 0) {
  i--;
  getVar(i);
  }
} 
</script> 
</body>
